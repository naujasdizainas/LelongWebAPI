(function(){"use strict";angular.module("fk.eternicode-datepicker",[]).provider("datepickerDefaults",function(){var e;return e={},{setDefaultOptions:function(t){return e=t},$get:function(){return e}}}).directive("datepicker",["$timeout","datepickerDefaults",function(e,t){return{restrict:"A",require:"ngModel",scope:{ngModel:"=",dpOptions:"="},link:function(n,r,i,u){var c,a,o,d,l;if(r.is("input"))throw"You can not add the datepicker directive to an input field";return o=r.hasClass("date"),d=r.has("input").length>0,c=d&&!o?r.children("input").first():r,a=$.extend(!0,{},t,n.dpOptions),c.datepicker(a).on("changeDate",function(){var t;return t=c.datepicker("getUTCDate"),t.setUTCHours(0,0,0,0,0),e(function(){return n.$apply(function(){return n.ngModel=t})})}).on("clearDate",function(){return e(function(){return n.$apply(function(){return n.ngModel=null})})}),l=function(){return c.is(":focus")||c.children("input").first().is(":focus")},n.$watch("ngModel",function(e){var t,n;return null==e||l()||(t=new Date(e),n=c.datepicker("getUTCDate"),null!=n&&t.getTime()===n.getTime())?void 0:c.datepicker("setUTCDate",t)})}}}])}).call(this);